<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE project SYSTEM "../dtd/Project.dtd">

<project default="test">
    <target name="test">
        <webtest name="check page Tree7 in Wiki">

            <callWikiPage pageName="Tree7" />

            <verifyText
                description="Check for addSmwData"
                text="tv#{treeId}.addSmwData(0, 'Subsection of',null, null, 'hasTitle', null, null, null, 'par%3Dval', null, null, null);"
            />
        	<verifyText
                description="Check node exists: Contents"
                text="tv#{treeId}.add(1,0,'&lt;a href=\&quot;${wgScript}?title=About_%E2%80%9Cinformation%E2%80%9D&amp;amp;action=edit&amp;amp;redlink=1&amp;par=val\&quot; class=\&quot;new\&quot; title=\&quot;About “information” (page does not exist)\&quot;&gt;Contents&lt;/a&gt;');"
            />
            <verifyText
                description="Check node exists: Märchen"
                text="tv#{treeId}.add(7,6,'&lt;a href=\&quot;${wgScript}/M%C3%A4rchen?par=val\&quot; title=\&quot;Märchen\&quot;&gt;Märchen&lt;/a&gt;');"
            />
           	<clickLink
        	   description="open node Main Page"
        	   xpath="//a[@href='javascript: tv#{treeId}.o(6);']"
        	/>
<!--
           	<click
        	   description="open node Märchen"
        	   xpath="//a[@href='javascript: tv#{treeId}.o(7);']"
        	/>
        	<checkAjaxResponse>
        		<verifyXPath
        		   description="and receive 3 children"
        		   xpath="count(//div[@id='dtv#{treeId}7']/div)"
        		   test="3" />
        	</checkAjaxResponse>
-->
            <not description="Check that there are no leaf commands">
                <verifyText
                    description="no leafs"
                    text="tv#{treeId}\.setLeaf\(\d+\);"
                    regex="true"
                />
            </not>
        </webtest>
    </target>
</project>
